"use strict";(self["webpackChunkcore_trivia_frontend"]=self["webpackChunkcore_trivia_frontend"]||[]).push([[400],{3832:function(e,t,s){s.r(t),s.d(t,{default:function(){return O}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:e.$vuetify.breakpoint.xsOnly}},[s("v-stepper",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[s("v-stepper-header",[s("v-stepper-step",{attrs:{editable:"",complete:e.step>1,step:"1"}},[e._v(" Application Settings ")]),s("v-divider"),s("v-stepper-step",{attrs:{editable:"",complete:e.step>2,step:"2"}},[e._v(" Admin Settings ")])],1),s("v-stepper-items",[s("v-stepper-content",{attrs:{step:"1"}},[s("v-card",{staticClass:"mx-auto",attrs:{flat:"","max-width":"500"}},[s("v-card-title",[s("span",{staticClass:"mx-auto headline"},[e._v("Setup Application")])]),s("v-card-text",{staticClass:"py-0"},[s("v-layout",{attrs:{column:"",wrap:""}},[s("v-form",{ref:"appSettings"},[s("v-flex",[s("v-text-field",{attrs:{label:"Database Name",rules:[e.rules.required,e.rules.startLetter,e.rules.dbName],required:""},model:{value:e.dbName,callback:function(t){e.dbName=t},expression:"dbName"}})],1),s("v-flex",[s("v-text-field",{attrs:{label:"Host",rules:[e.rules.required],required:""},model:{value:e.hostName,callback:function(t){e.hostName=t},expression:"hostName"}})],1),s("v-flex",[s("v-text-field",{attrs:{label:"Port",rules:[e.rules.required,e.rules.numbersOnly],required:""},model:{value:e.portNumber,callback:function(t){e.portNumber=t},expression:"portNumber"}})],1),s("v-flex",[s("v-text-field",{attrs:{label:"Database Username",rules:[e.rules.required],required:""},model:{value:e.dbUser,callback:function(t){e.dbUser=t},expression:"dbUser"}})],1),s("v-flex",[s("v-text-field",{attrs:{label:"Database Password",type:"password"},model:{value:e.dbPass,callback:function(t){e.dbPass=t},expression:"dbPass"}})],1)],1)],1)],1),s("v-card-actions",{staticClass:"py-3"},[s("v-layout",{attrs:{column:""}},[s("v-btn",{staticClass:"my-3",attrs:{block:"",large:"",color:"primary",loading:e.isLoading},on:{click:e.submitAppData}},[e._v(" Complete Setup ")])],1)],1)],1)],1),s("v-stepper-content",{attrs:{step:"2"}},[s("v-card",{staticClass:"mx-auto",attrs:{flat:"","max-width":"500"}},[s("v-card-title",[s("span",{staticClass:"mx-auto headline"},[e._v("Create Admin Account")])]),s("v-card-text",{staticClass:"py-0"},[s("v-layout",{attrs:{column:"",wrap:""}},[s("v-form",{ref:"userDetails"},[s("v-flex",[s("v-text-field",{attrs:{label:"Username",rules:[e.rules.required,e.rules.startLetter,e.rules.alphanumeric,e.rules.minChars],required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("v-flex",[s("v-text-field",{attrs:{label:"Email",rules:[e.rules.required],required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("v-flex",[s("v-text-field",{attrs:{label:"Password",type:"password",rules:[e.rules.required],required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("v-flex",[s("v-text-field",{attrs:{label:"Repeat Password",type:"password",rules:[e.rules.required,e.rules.matchPass(e.password,e.confirmPass)],required:""},model:{value:e.confirmPass,callback:function(t){e.confirmPass=t},expression:"confirmPass"}})],1)],1)],1)],1),s("v-card-actions",{staticClass:"py-3"},[s("v-layout",{attrs:{column:""}},[s("v-btn",{staticClass:"my-3",attrs:{block:"",large:"",color:"primary",loading:e.isLoading},on:{click:e.submitUserData}},[e._v(" Create Account ")]),s("span",{staticClass:"mx-auto"},[e._v("Already have an account?")]),s("v-btn",{staticClass:"my-3",attrs:{text:"",color:"primary",to:"/login"}},[e._v(" Sign In ")])],1)],1)],1)],1)],1)],1)],1)},r=[],a=s(129),n=s.n(a),l=s(5626),o=s(7507),p=s(3451),c={mixins:[o.j,p.Z],data:()=>({step:1,dbName:null,hostName:"localhost",portNumber:3306,dbUser:null,dbPass:null,username:"admin",email:null,password:null,confirmPass:null,isLoading:!1}),methods:{submitAppData(){if(!this.$refs.appSettings.validate())return;this.isLoading=!0;const e=n().stringify({dbName:this.dbName,host:this.hostName,port:this.portNumber,dbUser:this.dbUser,dbPass:this.dbPass}),t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};l.Z.post("/admin/setup",e,t).then((()=>{this.step=2,this.$swal.fire("Restart Server","Kindly restart the server to apply settings","warning")})).catch((e=>{this.processRequestError(e)})).finally((()=>{this.isLoading=!1}))},submitUserData(){if(!this.$refs.userDetails.validate())return;this.isLoading=!0;const e=`username=${this.username}&email=${this.email}&password=${this.password}`,t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};l.Z.post("/admin/setup/user",e,t).then((()=>{this.$router.push("/").catch((()=>{}))})).catch((e=>{this.processRequestError(e)})).finally((()=>{this.isLoading=!1}))}}},h=c,d=s(1001),u=s(3453),v=s.n(u),m=s(9787),f=s(2026),b=s(5255),g=(s(8582),s(7273),s(7358)),y=s(7559),x=(0,g.Z)("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(e,{props:t,data:s,children:i}){let r;const{attrs:a}=s;return a&&(s.attrs={},r=Object.keys(a).filter((e=>{if("slot"===e)return!1;const t=a[e];return e.startsWith("data-")?(s.attrs[e]=t,!1):t||"string"===typeof t}))),t.id&&(s.domProps=s.domProps||{},s.domProps.id=t.id),e(t.tag,(0,y.ZP)(s,{staticClass:"container",class:Array({"container--fluid":t.fluid}).concat(r||[])}),i)}}),C=s(5596),w=s(683),_=s(3240),k=s(9456),V=s(9744),$=s(950),S=s(7779),Z=s(5530),N=s(8219);const A=(0,Z.Z)(V.Z,(0,$.J)("stepper"),S.Z);var P=A.extend({name:"v-stepper",provide(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,flat:Boolean,vertical:Boolean},data(){const e={isBooted:!1,steps:[],content:[],isReverse:!1};return e.internalLazyValue=null!=this.value?this.value:(e[0]||{}).step||1,e},computed:{classes(){return{"v-stepper--flat":this.flat,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear,...V.Z.options.computed.classes.call(this)}},styles(){return{...V.Z.options.computed.styles.call(this)}}},watch:{internalValue(e,t){this.isReverse=Number(e)<Number(t),t&&(this.isBooted=!0),this.updateView()}},created(){this.$listeners.input&&(0,N.fK)("@input","@change",this)},mounted(){this.updateView()},methods:{register(e){"v-stepper-step"===e.$options.name?this.steps.push(e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content.push(e))},unregister(e){"v-stepper-step"===e.$options.name?this.steps=this.steps.filter((t=>t!==e)):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content=this.content.filter((t=>t!==e)))},stepClick(e){this.$nextTick((()=>this.internalValue=e))},updateView(){for(let e=this.steps.length;--e>=0;)this.steps[e].toggle(this.internalValue);for(let e=this.content.length;--e>=0;)this.content[e].toggle(this.internalValue,this.isReverse)}},render(e){return e(this.tag,{staticClass:"v-stepper",class:this.classes,style:this.styles},this.$slots.default)}}),q=s(6930),L=s(8131);const B=(0,Z.Z)((0,$.f)("stepper","v-stepper-content","v-stepper"));var I=B.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition(){const e=this.$vuetify.rtl?!this.isReverse:this.isReverse;return e?q.YV:q.n6},styles(){return this.isVertical?{height:(0,L.kb)(this.height)}:{}}},watch:{isActive(e,t){e&&null==t?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition(e){this.isActive&&"height"===e.propertyName&&(this.height="auto")},enter(){let e=0;requestAnimationFrame((()=>{e=this.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((()=>this.isActive&&(this.height=e||"auto")),450)},leave(){this.height=this.$refs.wrapper.clientHeight,setTimeout((()=>this.height=0),10)},toggle(e,t){this.isActive=e.toString()===this.step.toString(),this.isReverse=t}},render(e){const t={staticClass:"v-stepper__content"},s={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(t.directives=[{name:"show",value:this.isActive}]);const i=e("div",s,[this.$slots.default]),r=e("div",t,[i]);return e(this.computedTransition,{on:this.$listeners},[r])}}),E=s(9524),D=s(5836),T=s(4749);const R=(0,Z.Z)(D.Z,(0,$.f)("stepper","v-stepper-step","v-stepper"));var U=R.extend().extend({name:"v-stepper-step",directives:{ripple:T.Z},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:()=>[]},step:[Number,String]},data(){return{isActive:!1,isInactive:!0}},computed:{classes(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError(){return this.rules.some((e=>!0!==e()))}},mounted(){this.stepper&&this.stepper.register(this)},beforeDestroy(){this.stepper&&this.stepper.unregister(this)},methods:{click(e){e.stopPropagation(),this.$emit("click",e),this.editable&&this.stepClick(this.step)},genIcon(e){return this.$createElement(E.Z,e)},genLabel(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep(){const e=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(e,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent(){const e=[];return this.hasError?e.push(this.genIcon(this.errorIcon)):this.complete?this.editable?e.push(this.genIcon(this.editIcon)):e.push(this.genIcon(this.completeIcon)):e.push(String(this.step)),e},keyboardClick(e){e.keyCode===L.Do.space&&this.click(e)},toggle(e){this.isActive=e.toString()===this.step.toString(),this.isInactive=Number(e)<Number(this.step)}},render(e){return e("div",{attrs:{tabindex:this.editable?0:-1},staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click,keydown:this.keyboardClick}},[this.genStep(),this.genLabel()])}});const j=(0,L.Ji)("v-stepper__header"),F=(0,L.Ji)("v-stepper__items");var H=s(2660),J=(0,d.Z)(h,i,r,!1,null,"54945202",null),O=J.exports;v()(J,{VBtn:m.Z,VCard:f.Z,VCardActions:b.h7,VCardText:b.ZB,VCardTitle:b.EB,VContainer:x,VDivider:C.Z,VFlex:w.Z,VForm:_.Z,VLayout:k.Z,VStepper:P,VStepperContent:I,VStepperHeader:j,VStepperItems:F,VStepperStep:U,VTextField:H.Z})},5596:function(e,t,s){s.d(t,{Z:function(){return r}});var i=s(2066),r=i.Z.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(e){let t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":t,...this.$attrs},on:this.$listeners})}})}}]);