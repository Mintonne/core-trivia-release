"use strict";(self["webpackChunkcore_trivia_frontend"]=self["webpackChunkcore_trivia_frontend"]||[]).push([[112],{7273:function(){},6833:function(e,t,i){i.r(t),i.d(t,{default:function(){return st}});var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showEmptyState?i("empty-state",{attrs:{icon:"categories",text:"No Categories Found"}}):e._e(),i("category-creator",{attrs:{dialog:e.creatorDialog,editing:e.editing,"category-info":e.categoryInfo,"icon-url":e.iconURL,"upsert-category":e.upsertCategory,"delete-category":e.deleteCategory},on:{"update:dialog":function(t){e.creatorDialog=t}}}),i("category-filter",{attrs:{dialog:e.filterDialog,filters:e.filterOptions,"fetch-category-list":e.fetchCategoryList},on:{"update:dialog":function(t){e.filterDialog=t},"update:filters":function(t){e.filterOptions=t}}}),i("v-row",{staticClass:"mt-3",class:{"mx-5":e.$vuetify.breakpoint.smAndUp,"mx-1":e.$vuetify.breakpoint.xsOnly},attrs:{dense:""}},[i("v-col",{attrs:{cols:"6",sm:"auto"}},[i("v-btn",{staticClass:" x-1 text-none",attrs:{block:"",color:"primary"},on:{click:function(t){return e.openCategoryCreator(!1)}}},[e._v(" Add New Category ")])],1),i("v-spacer"),i("v-col",{attrs:{cols:"6",sm:"auto"}},[i("v-btn",{staticClass:" x-1 text-none",attrs:{text:e.$vuetify.breakpoint.smAndUp,block:"",color:e.$vuetify.breakpoint.smAndUp?"#555":"primary"},on:{click:function(t){return e.openFilterPanel()}}},[i("v-icon",{attrs:{left:""}},[e._v(" $filter ")]),e._v(" Filters ")],1)],1)],1),e.showEmptyState?e._e():i("v-col",{staticClass:"mx-auto pt-5 pb-2",attrs:{cols:"12",sm:"9",md:"6"}},[i("v-menu",{attrs:{"close-on-click":!1,bottom:"","nudge-top":"25","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.attrs;return[i("v-text-field",e._b({staticClass:"px-1",attrs:{solo:"",clearable:"","error-messages":e.searchError,placeholder:"Search"},on:{input:e.searchCategories,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchCategories.apply(null,arguments)}},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}},"v-text-field",s,!1))]}}],null,!1,1666251686),model:{value:e.showSearchResults,callback:function(t){e.showSearchResults=t},expression:"showSearchResults"}},[i("v-list",e._l(e.searchResults,(function(t,s){return i("v-list-item",{key:s,attrs:{to:e.categoryUrl(t)}},[i("v-list-item-avatar",{attrs:{tile:""}},[i("img",{attrs:{src:e.iconURL(t),alt:t.name}}),i("img")]),i("v-list-item-title",[e._v(e._s(t.name))]),i("v-list-item-icon",{staticClass:"my-2"},[i("v-btn",{attrs:{icon:""},on:{click:function(i){return i.preventDefault(),e.openCategoryCreator(!0,t)}}},[i("v-icon",[e._v("$cog")])],1)],1)],1)})),1)],1)],1),e.showEmptyState?e._e():i("v-row",{staticClass:"pb-5 px-3",attrs:{dense:""}},e._l(e.categoriesList,(function(t,s){return i("v-col",{key:s,attrs:{cols:"12",lg:"2",md:"3",sm:"6"}},[i("v-card",{staticClass:"pa-2",attrs:{to:e.categoryUrl(t)}},[i("v-btn",{staticClass:"edit-btn",attrs:{icon:"",absolute:"",top:"",right:""},on:{click:function(i){return i.preventDefault(),e.openCategoryCreator(!0,t)}}},[i("v-icon",[e._v(" $cog ")])],1),i("v-card-text",{staticClass:"text-center pa-0"},[i("v-avatar",{attrs:{tile:"",size:"100"}},[i("img",{attrs:{src:e.iconURL(t),alt:t.name}}),i("img")])],1),i("v-card-title",{staticClass:"d-block subtitle-1 text-center text-truncate pb-1 px-0",attrs:{title:t.name}},[i("span",[e._v(e._s(t.name))])]),i("div",{staticClass:"error-indicator",class:e.errorIndicator(t)})],1)],1)})),1),i("div",{staticClass:"pb-5 text-center"},[e.showLoadMoreButton?i("v-btn",{attrs:{color:"primary"},on:{click:e.loadMoreCategories}},[e._v(" Load More ")]):e._e()],1)],1)},a=[],n=i(5626),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{width:"100%","max-width":"500",persistent:"",scrollable:"","retain-focus":!1},model:{value:e.dialogValue,callback:function(t){e.dialogValue=t},expression:"dialogValue"}},[i("language-editor",{directives:[{name:"show",rawName:"v-show",value:e.showLanguageEditor,expression:"showLanguageEditor"}],attrs:{active:e.showLanguageEditor},on:{"update:active":function(t){e.showLanguageEditor=t}}}),i("v-card",{directives:[{name:"show",rawName:"v-show",value:!e.showLanguageEditor,expression:"!showLanguageEditor"}],attrs:{disabled:e.isLoading,loading:e.isLoading}},[i("v-alert",{staticClass:"py-3 mb-0",attrs:{dark:"",value:null!=e.alertMessage,dismissible:"",color:"error"}},[e._v(" "+e._s(e.alertMessage)+" "),i("template",{slot:"close"},[i("v-icon",{on:{click:e.closeAlert}},[e._v(" $close ")])],1)],2),i("v-card-title",[i("span",{staticClass:"mx-auto dialog-title"},[e._v(e._s(e.editing?"Update":"Create New")+" Category")]),i("v-btn",{attrs:{icon:"",absolute:"",right:""},on:{click:function(t){e.dialogValue=!1}}},[i("v-icon",[e._v("$close")])],1)],1),i("v-card-text",[i("div",{staticClass:"text-center my-3"},[i("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var s=t.hover;return[i("v-avatar",{attrs:{size:e.previewSize,color:null==e.previewImage?"#E0E0E0":""}},[s||null!=e.previewImage?e._e():i("v-icon",{staticClass:"text--disabled",attrs:{size:"35"}},[e._v(" $image ")]),null!=e.previewImage?i("img",{attrs:{src:e.previewImage}}):e._e(),i("v-fade-transition",[s?i("v-overlay",{attrs:{absolute:"",color:"primary"}},[i("v-btn",{attrs:{color:"primary",icon:"",width:e.previewSize,height:e.previewSize},nativeOn:{click:function(t){return e.selectImage.apply(null,arguments)}}},[i("v-icon",{attrs:{color:"white",size:"30"}},[e._v(" $plus ")])],1)],1):e._e()],1)],1)]}}])})],1),i("v-form",{ref:"form",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createCategory.apply(null,arguments)}}},[i("v-text-field",{attrs:{clearable:"",rules:[e.rules.required],label:"Category Name",required:""},model:{value:e.categoryName,callback:function(t){e.categoryName=t},expression:"categoryName"}}),i("v-select",{attrs:{items:e.languages,"item-text":"name","item-value":"id",multiple:"","menu-props":{offsetY:!0},rules:[e.rules.languageRequired],label:"Languages"},model:{value:e.selectedLanguages,callback:function(t){e.selectedLanguages=t},expression:"selectedLanguages"}}),i("v-btn",{attrs:{block:"",text:"",color:"primary"},on:{click:function(t){e.showLanguageEditor=!0}}},[e._v(" Language Editor ")]),i("v-subheader",{staticClass:"pl-0 subtitle-2"},[e._v(" Is Active ")]),i("v-chip-group",{attrs:{mandatory:"","active-class":"primary--text"},model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}},[i("v-chip",{attrs:{value:!0}},[e._v(" True ")]),i("v-chip",{attrs:{value:!1}},[e._v(" False ")])],1),i("v-subheader",{staticClass:"pl-0 subtitle-2"},[e._v(" Enable Timer ")]),i("v-chip-group",{attrs:{mandatory:"","active-class":"primary--text"},model:{value:e.enableTimer,callback:function(t){e.enableTimer=t},expression:"enableTimer"}},[i("v-chip",{attrs:{value:!0}},[e._v(" True ")]),i("v-chip",{attrs:{value:!1}},[e._v(" False ")])],1),e.enableTimer?i("v-text-field",{staticClass:"mt-2",attrs:{type:"number",rules:[e.rules.required,e.rules.numbersOnly],label:"Timer Amount (Seconds)",required:e.enableTimer},model:{value:e.timerAmount,callback:function(t){e.timerAmount=e._n(t)},expression:"timerAmount"}}):e._e(),i("v-subheader",{staticClass:"pl-0 subtitle-2"},[e._v(" Enable Lives ")]),i("v-chip-group",{attrs:{mandatory:"","active-class":"primary--text"},model:{value:e.enableLives,callback:function(t){e.enableLives=t},expression:"enableLives"}},[i("v-chip",{attrs:{value:!0}},[e._v(" True ")]),i("v-chip",{attrs:{value:!1}},[e._v(" False ")])],1),e.enableLives?i("v-text-field",{staticClass:"mt-2",attrs:{type:"number",rules:[e.rules.required,e.rules.numbersOnly],label:"Lives Count",required:e.enableTimer},model:{value:e.livesAmount,callback:function(t){e.livesAmount=e._n(t)},expression:"livesAmount"}}):e._e(),i("v-subheader",{staticClass:"pl-0 subtitle-2"},[e._v(" Limit Questions ")]),i("v-chip-group",{attrs:{mandatory:"","active-class":"primary--text"},model:{value:e.limitQuestions,callback:function(t){e.limitQuestions=t},expression:"limitQuestions"}},[i("v-chip",{attrs:{value:!0}},[e._v(" True ")]),i("v-chip",{attrs:{value:!1}},[e._v(" False ")])],1),e.limitQuestions?i("v-text-field",{staticClass:"mt-2",attrs:{type:"number",rules:[e.rules.required,e.rules.numbersOnly],label:"Question Limit",required:e.limitQuestions},model:{value:e.questionLimit,callback:function(t){e.questionLimit=e._n(t)},expression:"questionLimit"}}):e._e()],1)],1),i("v-card-actions",[e.editing?i("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.deleteCategory(e.categoryInfo)}}},[e._v(" Delete ")]):e._e(),i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:e.createCategory}},[e._v(" "+e._s(e.editing?"Update":"Create")+" ")])],1)],1),i("input",{ref:"fileInput",attrs:{type:"file",accept:"image/*",hidden:""},on:{change:e.updateAvatar}})],1)},l=[],r=i(7507),c=i(3451),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mx-auto",attrs:{flat:e.$vuetify.breakpoint.xsOnly,"min-height":"600",loading:e.isLoading,disabled:e.isLoading}},[i("v-card-title",[i("span",{staticClass:"mx-auto dialog-title"},[e._v("Language Editor")]),i("v-btn",{attrs:{icon:"",absolute:"",right:""},on:{click:function(t){e.isActive=!1}}},[i("v-icon",[e._v("$close")])],1)],1),i("v-card-text",{staticClass:"pt-2"},[i("v-row",{attrs:{"no-gutters":""}},[i("v-text-field",{attrs:{solo:"","hide-details":"",label:"Add New Language"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createLanguage.apply(null,arguments)}},model:{value:e.languageName,callback:function(t){e.languageName=t},expression:"languageName"}}),i("v-btn",{staticClass:"ml-2",attrs:{large:"",color:"primary"},on:{click:e.createLanguage}},[e._v(" Add ")])],1),0===e.languages.length?i("empty-state",{attrs:{icon:"sad",size:"80",text:"No Languages Found"}}):i("v-list",{attrs:{dense:""}},e._l(e.languages,(function(t,s){return i("v-list-item",{key:s,staticClass:"px-0 py-1"},[i("v-list-item-content",{staticClass:"py-0"},[e.activeLanguage===t.id?i("v-text-field",{staticClass:"pl-1 pr-2 py-1",attrs:{"hide-details":"",solo:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editLanguage(s)}},model:{value:e.newLanguageName,callback:function(t){e.newLanguageName=t},expression:"newLanguageName"}}):i("v-list-item-title",{staticClass:"subtitle-1 font-weight-regular"},[i("v-switch",{staticClass:"pl-1 py-2 my-0",attrs:{ripple:!1,"hide-details":"",label:t.name},on:{change:function(t){return e.toggleActiveState(s)}},model:{value:t.active,callback:function(i){e.$set(t,"active",i)},expression:"language.active"}})],1)],1),i("v-list-item-icon",{staticClass:"my-0"},[e.activeLanguage===t.id?i("v-btn",{attrs:{icon:"",loading:e.isLoading},on:{click:function(t){return e.editLanguage(s)}}},[i("v-icon",{attrs:{color:"success"}},[e._v(" $complete ")])],1):i("v-btn",{attrs:{icon:""},on:{click:function(i){return e.enterEditMode(t)}}},[i("v-icon",[e._v(" $edit ")])],1)],1),i("v-list-item-icon",{staticClass:"my-0"},[i("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteLanguage(s)}}},[i("v-icon",{attrs:{color:"error"}},[e._v(" $close ")])],1)],1)],1)})),1)],1)],1)},u=[],d={name:"LanguageEditor",mixins:[r.j,c.Z],props:{active:{type:Boolean,required:!0}},data:()=>({languageName:null,newLanguageName:null,activeLanguage:null,isLoading:!1}),computed:{isActive:{get(){return this.active},set(e){this.$emit("update:active",e),this.languageName=null,this.activeLanguage=null}},languages(){return this.$store.getters.languages}},methods:{sortLanguageList(){this.sortArray(this.languages,"name")},createLanguage(){if(null==this.languageName)return;if(-1!==this.languages.findIndex((e=>e.name.toLowerCase()===this.languageName.toLowerCase())))return this.$swal.fire("Duplicate Language",`${this.languageName} already exists.`,"error");const e={headers:{Authorization:`Bearer ${localStorage.getItem("actk")}`,"Content-Type":"application/x-www-form-urlencoded"}},t=`&name=${this.languageName}`;this.isLoading=!0,n.Z.post("languages/create",t,e).then((e=>{this.$store.commit("addLanguage",{id:Number(e.data.id),name:this.languageName,active:!0}),this.languageName=null})).catch((e=>{this.processRequestError(e)})).finally((()=>{this.sortLanguageList(),this.isLoading=!1}))},toggleActiveState(e){const t=this.languages[e];this.isLoading=!0;const i={headers:{Authorization:`Bearer ${localStorage.getItem("actk")}`,"Content-Type":"application/x-www-form-urlencoded"}},s=`id=${t.id}&name=${t.name}&active=${t.active}`;n.Z.post("languages/update",s,i).then((()=>{this.$store.commit("updateLanguage",t)})).catch((e=>{t.active=!t.active,this.$store.commit("updateLanguage",t),this.processRequestError(e)})).finally((()=>{this.isLoading=!1}))},enterEditMode(e){this.newLanguageName=e.name,this.activeLanguage=e.id},exitEditMode(){this.activeLanguage=null},editLanguage(e){const t=this.languages[e];if(this.newLanguageName===t.name)return void this.exitEditMode();this.isLoading=!0;const i={headers:{Authorization:`Bearer ${localStorage.getItem("actk")}`,"Content-Type":"application/x-www-form-urlencoded"}},s=`id=${t.id}&name=${this.newLanguageName}&active=${t.active}`;n.Z.post("languages/update",s,i).then((()=>{t.name=this.newLanguageName,this.$store.commit("updateLanguage",t)})).catch((e=>{this.processRequestError(e)})).finally((()=>{this.sortLanguageList(),this.isLoading=!1,this.activeLanguage=null}))},deleteLanguage(e){const t=this.languages[e];this.activeLanguage!==t.id?this.$swal.fire({title:`Delete ${t.name}?`,text:"You CANNOT undo this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",showLoaderOnConfirm:!0,allowOutsideClick:()=>!this.$swal.isLoading(),preConfirm:()=>{const e={headers:{Authorization:`Bearer ${localStorage.getItem("actk")}`,"Content-Type":"application/x-www-form-urlencoded"}},i=`id=${t.id}`;return n.Z.post("languages/delete",i,e).then((()=>{this.$store.commit("deleteLanguage",t.id)})).catch((e=>{this.processRequestError(e)}))}}):this.exitEditMode()}}},p=d,g=i(1001),m=i(3453),v=i.n(m),f=i(9787),y=i(2026),b=i(5255),x=i(4456),C=i(893),$=i(907),w=i(3820),k=i(3560),I=i(7894),L=i(5332),S=i(4749),A=i(144),V=A.Z.extend({name:"rippleable",directives:{ripple:S.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),_=i(8789),T=i(5530);function Z(e){e.preventDefault()}var D=(0,T.Z)(L.Z,V,_.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some((t=>this.valueComparator(t,e))):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=L.Z.options.methods.genLabel.call(this);return e?(e.data.on={click:Z},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:Z},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const i=t.length;t=t.filter((t=>!this.valueComparator(t,e))),t.length===i&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}}),E=i(2706),O=i(6930),B=i(3297),M=i(8131),F=D.extend({name:"v-switch",directives:{Touch:E.Z},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...L.Z.options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...t}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(O.b0,{},[!1===this.loading?null:this.$slots.progress||this.$createElement(B.Z,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===M.Do.left&&this.isActive||e.keyCode===M.Do.right&&!this.isActive)&&this.onChange()}}}),P=i(2660),N=(0,g.Z)(p,h,u,!1,null,null,null),R=N.exports;v()(N,{VBtn:f.Z,VCard:y.Z,VCardText:b.ZB,VCardTitle:b.EB,VIcon:x.Z,VList:C.Z,VListItem:$.Z,VListItemContent:w.km,VListItemIcon:k.Z,VListItemTitle:w.V9,VRow:I.Z,VSwitch:F,VTextField:P.Z});var q={name:"CategoryCreator",components:{LanguageEditor:R},mixins:[r.j,c.Z],props:{dialog:{type:Boolean,required:!0},editing:{type:Boolean,default:!1},categoryInfo:{type:Object,default:()=>{}},iconUrl:{type:Function,required:!0},upsertCategory:{type:Function,required:!0},deleteCategory:{type:Function,required:!0}},data:()=>({showLanguageEditor:!1,alertMessage:null,selectedFile:null,previewImage:null,categoryName:null,selectedLanguages:[],isActive:!0,enableTimer:!1,timerAmount:null,enableLives:!1,livesAmount:null,limitQuestions:!1,questionLimit:null,isLoading:!1}),computed:{dialogValue:{get(){return this.dialog},set(e){this.$emit("update:dialog",e)}},languageDialogValue:{get(){return this.languageDialog},set(e){this.$emit("update:languageDialog",e)}},languages(){return this.$store.getters.languages},previewSize(){return this.$vuetify.breakpoint.xsOnly?80:110}},watch:{dialog(){!1===this.dialog&&this.resetForm(),this.dialog&&this.editing&&(this.selectedFile=null,this.previewImage=this.iconUrl(this.categoryInfo),this.categoryName=this.categoryInfo.name,this.selectedLanguages=this.categoryInfo.languages,this.isActive=this.categoryInfo.active,this.enableTimer=this.categoryInfo.enableTimer,this.timerAmount=this.categoryInfo.timerAmount,this.enableLives=this.categoryInfo.enableLives,this.livesAmount=this.categoryInfo.livesAmount,this.limitQuestions=this.categoryInfo.limitQuestions,this.questionLimit=this.categoryInfo.questionLimit)}},methods:{resetForm(e=!1){this.$refs.form.resetValidation(),this.closeAlert(),e||(this.previewImage=null,this.selectedFile=null,this.categoryName=null,this.selectedLanguages=[],this.isActive=!0,this.enableTimer=!1,this.timerAmount=null,this.enableLives=!1,this.livesAmount=null,this.limitQuestions=!1,this.questionLimit=null)},selectImage(){this.$refs.fileInput.click()},updateAvatar(){this.selectedFile=this.$refs.fileInput.files[0],this.$refs.fileInput.value="",null!=this.selectedFile&&(this.previewImage=URL.createObjectURL(this.selectedFile))},closeAlert(){this.alertMessage=null},createCategory(){if(!this.$refs.form.validate())return;if(null==this.selectedFile&&!this.editing)return void(this.alertMessage="Category icon missing");if(null!=this.selectedFile&&"image/png"!==this.selectedFile?.type)return void this.$swal.fire("Error","The image is invalid or the image type is not allowed. Allowed types: png, jpg or jpeg","error");this.selectedLanguages=this.selectedLanguages.filter((e=>this.languages.findIndex((t=>t.id===e))>=0)),this.isLoading=!0;const e={headers:{Authorization:`Bearer ${localStorage.getItem("actk")}`,"Content-Type":"multipart/form-data"}},t=new FormData;this.editing&&t.append("id",this.categoryInfo.id),t.append("name",this.categoryName),t.append("languages",this.selectedLanguages.toString()),t.append("active",this.isActive),t.append("enableTimer",this.enableTimer),this.enableTimer&&t.append("timerAmount",this.timerAmount),t.append("enableLives",this.enableLives),this.enableLives&&t.append("livesAmount",this.livesAmount),t.append("limitQuestions",this.limitQuestions),this.limitQuestions&&t.append("questionLimit",this.questionLimit),t.append("icon",this.selectedFile),n.Z.post("/categories/create",t,e).then((e=>{this.upsertCategory(e.data),this.dialogValue=!1})).catch((e=>{this.processRequestError(e)})).finally((()=>{this.isLoading=!1}))}}},z=q,G=i(7847),W=i(3811),U=i(9524),Q=i(5836),H=i(1302),j=i(2066),K=i(4552),Y=i(9367),X=i(2412),J=i(8219),ee=(0,T.Z)(Q.Z,X.Z,Y.Z,j.Z,(0,H.d)("chipGroup"),(0,K.d)("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...Y.Z.options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(Y.Z.options.computed.isClickable.call(this)||this.chipGroup)}},created(){const e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((([e,t])=>{this.$attrs.hasOwnProperty(e)&&(0,J.fK)(e,t,this)}))},methods:{click(e){this.$emit("click",e),this.chipGroup&&this.toggle()},genFilter(){const e=[];return this.isActive&&e.push(this.$createElement(U.Z,{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(O.Zq,e)},genClose(){return this.$createElement(U.Z,{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:e=>{e.stopPropagation(),e.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(e){const t=[this.genContent()];let{tag:i,data:s}=this.generateRouteLink();s.attrs={...s.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:s.attrs.tabindex},s.directives.push({name:"show",value:this.active}),s=this.setBackgroundColor(this.color,s);const a=this.textColor||this.outlined&&this.color;return e(i,this.setTextColor(a,s),t)}}),te=i(307),ie=(0,T.Z)(te.Wk,Q.Z).extend({name:"v-chip-group",provide(){return{chipGroup:this}},props:{column:Boolean},computed:{classes(){return{...te.Wk.options.computed.classes.call(this),"v-chip-group":!0,"v-chip-group--column":this.column}}},watch:{column(e){e&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData(){return this.setTextColor(this.color,{...te.Wk.options.methods.genData.call(this)})}}}),se=i(5634),ae=i(3240),ne=i(9657),oe=i(8913),le=(i(9845),ee),re=i(1062),ce=re.Z,he=i(7559),ue=A.Z.extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:S.Z},props:{...Q.Z.options.props,...j.Z.options.props,disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}},render(e,{props:t,data:i,listeners:s}){const a=[];let n=t.offIcon;if(t.indeterminate?n=t.indeterminateIcon:t.value&&(n=t.onIcon),a.push(e(x.Z,Q.Z.options.methods.setTextColor(t.value&&t.color,{props:{disabled:t.disabled,dark:t.dark,light:t.light}}),n)),t.ripple&&!t.disabled){const i=e("div",Q.Z.options.methods.setTextColor(t.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));a.push(i)}return e("div",(0,he.ZP)(i,{class:{"v-simple-checkbox":!0,"v-simple-checkbox--disabled":t.disabled},on:{click:e=>{e.stopPropagation(),i.on&&i.on.input&&!t.disabled&&(0,M.TI)(i.on.input).forEach((e=>e(!t.value)))}}}),[e("div",{staticClass:"v-input--selection-controls__input"},a)])}}),de=i(5596),pe=de.Z,ge=i(6975),me=ge.Z,ve=i(3444),fe=(0,T.Z)(Q.Z,j.Z).extend({name:"v-select-list",directives:{ripple:S.Z},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:()=>[]}},computed:{parsedItems(){return this.selectedItems.map((e=>this.getValue(e)))},tileActiveClass(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile(){const e={attrs:{role:void 0},on:{mousedown:e=>e.preventDefault()}};return this.$createElement($.Z,e,[this.genTileContent(this.noDataText)])}},methods:{genAction(e,t){return this.$createElement(ve.Z,[this.$createElement(ue,{props:{color:this.color,value:t,ripple:!1},on:{input:()=>this.$emit("select",e)}})])},genDivider(e){return this.$createElement(pe,{props:e})},genFilteredText(e){if(e=e||"",!this.searchInput||this.noFilter)return(0,M.r)(e);const{start:t,middle:i,end:s}=this.getMaskedCharacters(e);return`${(0,M.r)(t)}${this.genHighlight(i)}${(0,M.r)(s)}`},genHeader(e){return this.$createElement(me,{props:e},e.header)},genHighlight(e){return`<span class="v-list-item__mask">${(0,M.r)(e)}</span>`},getMaskedCharacters(e){const t=(this.searchInput||"").toString().toLocaleLowerCase(),i=e.toLocaleLowerCase().indexOf(t);if(i<0)return{start:e,middle:"",end:""};const s=e.slice(0,i),a=e.slice(i,i+t.length),n=e.slice(i+t.length);return{start:s,middle:a,end:n}},genTile({item:e,index:t,disabled:i=null,value:s=!1}){s||(s=this.hasItem(e)),e===Object(e)&&(i=null!==i?i:this.getDisabled(e));const a={attrs:{"aria-selected":String(s),id:`list-item-${this._uid}-${t}`,role:"option"},on:{mousedown:e=>{e.preventDefault()},click:()=>i||this.$emit("select",e)},props:{activeClass:this.tileActiveClass,disabled:i,ripple:!0,inputValue:s}};if(!this.$scopedSlots.item)return this.$createElement($.Z,a,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(e,s):null,this.genTileContent(e,t)]);const n=this,o=this.$scopedSlots.item({parent:n,item:e,attrs:{...a.attrs,...a.props},on:a.on});return this.needsTile(o)?this.$createElement($.Z,a,o):o},genTileContent(e,t=0){const i=this.genFilteredText(this.getText(e));return this.$createElement(w.km,[this.$createElement(w.V9,{domProps:{innerHTML:i}})])},hasItem(e){return this.parsedItems.indexOf(this.getValue(e))>-1},needsTile(e){return 1!==e.length||null==e[0].componentOptions||"v-list-item"!==e[0].componentOptions.Ctor.options.name},getDisabled(e){return Boolean((0,M.qF)(e,this.itemDisabled,!1))},getText(e){return String((0,M.qF)(e,this.itemText,e))},getValue(e){return(0,M.qF)(e,this.itemValue,this.getText(e))}},render(){const e=[],t=this.items.length;for(let i=0;i<t;i++){const t=this.items[i];this.hideSelected&&this.hasItem(t)||(null==t?e.push(this.genTile({item:t,index:i})):t.header?e.push(this.genHeader(t)):t.divider?e.push(this.genDivider(t)):e.push(this.genTile({item:t,index:i})))}return e.length||e.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&e.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&e.push(this.$slots["append-item"]),this.$createElement(C.Z,{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},e)}}),ye=i(4665),be=A.Z.extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}}),xe=i(3664);const Ce={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},$e=(0,T.Z)(P.Z,_.Z,ye.Z,be);var we=$e.extend().extend({name:"v-select",directives:{ClickOutside:xe.Z},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:()=>Ce},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes(){return{...P.Z.options.computed.classes.call(this),"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple}},computedItems(){return this.allItems},computedOwns(){return`list-${this._uid}`},computedCounterValue(){const e=this.multiple?this.selectedItems:(this.getText(this.selectedItems[0])||"").toString();return"function"===typeof this.counterValue?this.counterValue(e):e.length},directives(){return this.isFocused?[{name:"click-outside",value:{handler:this.blur,closeConditional:this.closeConditional,include:()=>this.getOpenDependentElements()}}]:void 0},dynamicHeight(){return"auto"},hasChips(){return this.chips||this.smallChips},hasSlot(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty(){return this.selectedItems.length>0},listData(){const e=this.$vnode&&this.$vnode.context.$options._scopeId,t=e?{[e]:!0}:{};return{attrs:{...t,id:this.computedOwns},props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&(0,J.N6)("assert: staticList should not be called if slots are used"),this.$createElement(fe,this.listData)},virtualizedItems(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:()=>!0,$_menuProps(){let e="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(e)&&(e=e.reduce(((e,t)=>(e[t.trim()]=!0,e)),{})),{...Ce,eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:e.offsetY?1:0,...e}}},watch:{internalValue(e){this.initialValue=e,this.setSelectedItems(),this.multiple&&this.$nextTick((()=>{var e;null==(e=this.$refs.menu)||e.updateDimensions()}))},isMenuActive(e){window.setTimeout((()=>this.onMenuActiveChange(e)))},items:{immediate:!0,handler(e){this.cacheItems&&this.$nextTick((()=>{this.cachedItems=this.filterDuplicates(this.cachedItems.concat(e))})),this.setSelectedItems()}}},methods:{blur(e){P.Z.options.methods.blur.call(this,e),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1,this.setMenuIndex(-1)},activateMenu(){this.isInteractive&&!this.isMenuActive&&(this.isMenuActive=!0)},clearableCallback(){this.setValue(this.multiple?[]:null),this.setMenuIndex(-1),this.$nextTick((()=>this.$refs.input&&this.$refs.input.focus())),this.openOnClear&&(this.isMenuActive=!0)},closeConditional(e){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(e.target))&&this.$el&&!this.$el.contains(e.target)&&e.target!==this.$el},filterDuplicates(e){const t=new Map;for(let i=0;i<e.length;++i){const s=e[i];if(null==s)continue;if(s.header||s.divider){t.set(s,s);continue}const a=this.getValue(s);!t.has(a)&&t.set(a,s)}return Array.from(t.values())},findExistingIndex(e){const t=this.getValue(e);return(this.internalValue||[]).findIndex((e=>this.valueComparator(this.getValue(e),t)))},getContent(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection(e,t){const i=this.isDisabled||this.getDisabled(e),s=!i&&this.isInteractive;return this.$createElement(le,{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&s,disabled:i,inputValue:t===this.selectedIndex,small:this.smallChips},on:{click:e=>{s&&(e.stopPropagation(),this.selectedIndex=t)},"click:close":()=>this.onChipInput(e)},key:JSON.stringify(this.getValue(e))},this.getText(e))},genCommaSelection(e,t,i){const s=t===this.selectedIndex&&this.computedColor,a=this.isDisabled||this.getDisabled(e);return this.$createElement("div",this.setTextColor(s,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":a},key:JSON.stringify(this.getValue(e))}),`${this.getText(e)}${i?"":", "}`)},genDefaultSlot(){const e=this.genSelections(),t=this.genInput();return Array.isArray(e)?e.push(t):(e.children=e.children||[],e.children.push(t)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,e,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon(e,t,i){const s=L.Z.options.methods.genIcon.call(this,e,t,i);return"append"===e&&(s.children[0].data=(0,he.ZP)(s.children[0].data,{attrs:{tabindex:s.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),s},genInput(){const e=P.Z.options.methods.genInput.call(this);return delete e.data.attrs.name,e.data=(0,he.ZP)(e.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.isReadonly),"aria-activedescendant":(0,M.vO)(this.$refs.menu,"activeTile.id"),autocomplete:(0,M.vO)(e.data,"attrs.autocomplete","off"),placeholder:this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?void 0:this.placeholder},on:{keypress:this.onKeyPress}}),e},genHiddenInput(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot(){const e=P.Z.options.methods.genInputSlot.call(this);return e.data.attrs={...e.data.attrs,role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns},e},genList(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot(){const e=["prepend-item","no-data","append-item"].filter((e=>this.$slots[e])).map((e=>this.$createElement("template",{slot:e},this.$slots[e])));return this.$createElement(fe,{...this.listData},e)},genMenu(){const e=this.$_menuProps;return e.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?e.attach=this.$el:e.attach=this.attach,this.$createElement(ce,{attrs:{role:void 0},props:e,on:{input:e=>{this.isMenuActive=e,this.isFocused=e},scroll:this.onScroll},ref:"menu"},[this.genList()])},genSelections(){let e=this.selectedItems.length;const t=new Array(e);let i;i=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(e--)t[e]=i(this.selectedItems[e],e,e===t.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},t)},genSlotSelection(e,t){return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:e,index:t,select:e=>{e.stopPropagation(),this.selectedIndex=t},selected:t===this.selectedIndex,disabled:!this.isInteractive})},getMenuIndex(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled(e){return(0,M.qF)(e,this.itemDisabled,!1)},getText(e){return(0,M.qF)(e,this.itemText,e)},getValue(e){return(0,M.qF)(e,this.itemValue,this.getText(e))},onBlur(e){e&&this.$emit("blur",e)},onChipInput(e){this.multiple?this.selectItem(e):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick(e){this.isInteractive&&(this.isAppendInner(e.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",e))},onEscDown(e){e.preventDefault(),this.isMenuActive&&(e.stopPropagation(),this.isMenuActive=!1)},onKeyPress(e){if(this.multiple||!this.isInteractive||this.disableLookup)return;const t=1e3,i=performance.now();i-this.keyboardLookupLastTime>t&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=e.key.toLowerCase(),this.keyboardLookupLastTime=i;const s=this.allItems.findIndex((e=>{const t=(this.getText(e)||"").toString();return t.toLowerCase().startsWith(this.keyboardLookupPrefix)})),a=this.allItems[s];-1!==s&&(this.lastItem=Math.max(this.lastItem,s+5),this.setValue(this.returnObject?a:this.getValue(a)),this.$nextTick((()=>this.$refs.menu.getTiles())),setTimeout((()=>this.setMenuIndex(s))))},onKeyDown(e){if(this.isReadonly&&e.keyCode!==M.Do.tab)return;const t=e.keyCode,i=this.$refs.menu;return this.$emit("keydown",e),i?(this.isMenuActive&&[M.Do.up,M.Do.down,M.Do.home,M.Do.end,M.Do.enter].includes(t)&&this.$nextTick((()=>{i.changeListIndex(e),this.$emit("update:list-index",i.listIndex)})),[M.Do.enter,M.Do.space].includes(t)&&this.activateMenu(),!this.isMenuActive&&[M.Do.up,M.Do.down,M.Do.home,M.Do.end].includes(t)?this.onUpDown(e):t===M.Do.esc?this.onEscDown(e):t===M.Do.tab?this.onTabDown(e):t===M.Do.space?this.onSpaceDown(e):void 0):void 0},onMenuActiveChange(e){if(this.multiple&&!e||this.getMenuIndex()>-1)return;const t=this.$refs.menu;if(t&&this.isDirty){this.$refs.menu.getTiles();for(let e=0;e<t.tiles.length;e++)if("true"===t.tiles[e].getAttribute("aria-selected")){this.setMenuIndex(e);break}}},onMouseUp(e){this.hasMouseDown&&3!==e.which&&this.isInteractive&&this.isAppendInner(e.target)&&this.$nextTick((()=>this.isMenuActive=!this.isMenuActive)),P.Z.options.methods.onMouseUp.call(this,e)},onScroll(){if(this.isMenuActive){if(this.lastItem>this.computedItems.length)return;const e=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;e&&(this.lastItem+=20)}else requestAnimationFrame((()=>this.getContent().scrollTop=0))},onSpaceDown(e){e.preventDefault()},onTabDown(e){const t=this.$refs.menu;if(!t)return;const i=t.activeTile;!this.multiple&&i&&this.isMenuActive?(e.preventDefault(),e.stopPropagation(),i.click()):this.blur(e)},onUpDown(e){const t=this.$refs.menu;if(!t)return;if(e.preventDefault(),this.multiple)return this.activateMenu();const i=e.keyCode;t.isBooted=!0,window.requestAnimationFrame((()=>{if(t.getTiles(),!t.hasClickableTiles)return this.activateMenu();switch(i){case M.Do.up:t.prevTile();break;case M.Do.down:t.nextTile();break;case M.Do.home:t.firstTile();break;case M.Do.end:t.lastTile();break}this.selectItem(this.allItems[this.getMenuIndex()])}))},selectItem(e){if(this.multiple){const t=(this.internalValue||[]).slice(),i=this.findExistingIndex(e);if(-1!==i?t.splice(i,1):t.push(e),this.setValue(t.map((e=>this.returnObject?e:this.getValue(e)))),this.hideSelected)this.setMenuIndex(-1);else{const t=this.allItems.indexOf(e);~t&&(this.$nextTick((()=>this.$refs.menu.getTiles())),setTimeout((()=>this.setMenuIndex(t))))}}else this.setValue(this.returnObject?e:this.getValue(e)),this.isMenuActive=!1},setMenuIndex(e){this.$refs.menu&&(this.$refs.menu.listIndex=e)},setSelectedItems(){const e=[],t=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue];for(const i of t){const t=this.allItems.findIndex((e=>this.valueComparator(this.getValue(e),this.getValue(i))));t>-1&&e.push(this.allItems[t])}this.selectedItems=e},setValue(e){this.valueComparator(e,this.internalValue)||(this.internalValue=e,this.$emit("change",e))},isAppendInner(e){const t=this.$refs["append-inner"];return t&&(t===e||t.contains(e))}}}),ke=i(2515),Ie=(0,g.Z)(z,o,l,!1,null,"a42f123e",null),Le=Ie.exports;v()(Ie,{VAlert:G.Z,VAvatar:W.Z,VBtn:f.Z,VCard:y.Z,VCardActions:b.h7,VCardText:b.ZB,VCardTitle:b.EB,VChip:ee,VChipGroup:ie,VDialog:se.Z,VFadeTransition:O.Z5,VForm:ae.Z,VHover:ne.Z,VIcon:x.Z,VOverlay:oe.Z,VSelect:we,VSpacer:ke.Z,VSubheader:ge.Z,VTextField:P.Z});var Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-navigation-drawer",{attrs:{id:"filter-panel",app:"",right:"",temporary:"",width:"90%",height:"100%"},scopedSlots:e._u([{key:"append",fn:function(){return[i("v-row",{staticClass:"pa-1",attrs:{dense:""}},[i("v-col",{attrs:{cols:"6"}},[i("v-btn",{attrs:{block:"",color:"primary"},on:{click:e.applyFilters}},[e._v(" Apply ")])],1),i("v-col",{attrs:{cols:"6"}},[i("v-btn",{attrs:{block:"",color:"error"},on:{click:e.resetFilters}},[e._v(" Reset ")])],1)],1)]},proxy:!0}]),model:{value:e.dialogValue,callback:function(t){e.dialogValue=t},expression:"dialogValue"}},[i("v-toolbar",{staticClass:"flex-grow-0",attrs:{id:"filter-toolbar",flat:"",dense:"",width:"100%"}},[i("v-toolbar-title",[e._v("Filters")]),i("v-btn",{attrs:{absolute:"",right:"",icon:""},on:{click:e.closePanel}},[i("v-icon",[e._v("$close")])],1)],1),i("v-divider"),i("v-expansion-panels",{attrs:{id:"filter-list",accordion:""}},[i("v-expansion-panel",[i("v-expansion-panel-header",[e._v(" Sort ")]),i("v-expansion-panel-content",[i("v-radio-group",{staticClass:"my-0",attrs:{mandatory:"",dense:"","hide-details":""},model:{value:e.filtersValue.sort,callback:function(t){e.$set(e.filtersValue,"sort",t)},expression:"filtersValue.sort"}},e._l(e.sortOrder,(function(e,t){return i("v-radio",{key:t,staticClass:"pt-1",attrs:{"on-icon":"$checkboxOn","off-icon":"$checkboxOff","hide-details":"",label:e.name,value:e.value}})})),1)],1)],1),i("v-expansion-panel",[i("v-expansion-panel-header",[e._v(" Is Active ")]),i("v-expansion-panel-content",e._l(["True","False"],(function(t,s){return i("v-checkbox",{key:s,staticClass:"my-0 mb-2",attrs:{"hide-details":"",label:t,value:t},model:{value:e.filtersValue.activeState,callback:function(t){e.$set(e.filtersValue,"activeState",t)},expression:"filtersValue.activeState"}})})),1)],1),i("v-expansion-panel",[i("v-expansion-panel-header",[e._v(" Enable Timer ")]),i("v-expansion-panel-content",e._l(["True","False"],(function(t,s){return i("v-checkbox",{key:s,staticClass:"my-0 mb-2",attrs:{"hide-details":"",label:t,value:t},model:{value:e.filtersValue.enableTimer,callback:function(t){e.$set(e.filtersValue,"enableTimer",t)},expression:"filtersValue.enableTimer"}})})),1)],1),i("v-expansion-panel",[i("v-expansion-panel-header",[e._v(" Enable Lives ")]),i("v-expansion-panel-content",e._l(["True","False"],(function(t,s){return i("v-checkbox",{key:s,staticClass:"my-0 mb-2",attrs:{"hide-details":"",label:t,value:t},model:{value:e.filtersValue.enableLives,callback:function(t){e.$set(e.filtersValue,"enableLives",t)},expression:"filtersValue.enableLives"}})})),1)],1),i("v-expansion-panel",[i("v-expansion-panel-header",[e._v(" Limit Questions ")]),i("v-expansion-panel-content",e._l(["True","False"],(function(t,s){return i("v-checkbox",{key:s,staticClass:"my-0 mb-2",attrs:{"hide-details":"",label:t,value:t},model:{value:e.filtersValue.limitQuestions,callback:function(t){e.$set(e.filtersValue,"limitQuestions",t)},expression:"filtersValue.limitQuestions"}})})),1)],1)],1)],1)},Ae=[],Ve={name:"CategoryFilterPanel",props:{dialog:{type:Boolean,required:!0},filters:{type:Object,required:!0},fetchCategoryList:{type:Function,required:!0}},data:()=>({sortOrder:[{name:"Name",value:"name.asc"},{name:"Date Modified",value:"modified.desc"}]}),computed:{dialogValue:{get(){return this.dialog},set(e){this.$emit("update:dialog",e)}},filtersValue:{get(){return this.filters},set(e){this.$emit("update:filters",e)}},languages(){return this.$store.getters.languages}},methods:{applyFilters(){this.fetchCategoryList(!1,!0),this.closePanel()},resetFilters(){while(this.filters.languages.length>0)this.filtersValue.languages.pop();this.filtersValue.activeState=null,this.filtersValue.enableTimer=null,this.filtersValue.enableLives=null,this.filtersValue.limitQuestions=null,this.fetchCategoryList(!1,!0),this.closePanel()},closePanel(){this.dialogValue=!1}}},_e=Ve,Te=D.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...L.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(e){this.$nextTick((()=>this.inputIndeterminate=e))},inputIndeterminate(e){this.$emit("update:indeterminate",e)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(U.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...t,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),Ze=i(7024),De=i(950),Ee=(0,T.Z)((0,H.d)("expansionPanels","v-expansion-panel","v-expansion-panels"),(0,De.J)("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data(){return{content:null,header:null,nextIsActive:!1}},computed:{classes(){return{"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled,...this.groupClasses}},isDisabled(){return this.expansionPanels.disabled||this.disabled},isReadonly(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent(e){this.content=e},unregisterContent(){this.content=null},registerHeader(e){this.header=e,e.$on("click",this.onClick)},unregisterHeader(){this.header=null},onClick(e){e.detail&&this.header.$el.blur(),this.$emit("click",e),this.isReadonly||this.isDisabled||this.toggle()},toggle(){this.$nextTick((()=>this.$emit("change")))}},render(e){return e("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},(0,M.z9)(this))}}),Oe=i(6986);const Be=(0,T.Z)(Oe.Z,Q.Z,(0,De.f)("expansionPanel","v-expansion-panel-content","v-expansion-panel"));var Me=Be.extend().extend({name:"v-expansion-panel-content",data:()=>({isActive:!1}),computed:{parentIsActive(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler(e,t){e&&(this.isBooted=!0),null==t?this.isActive=e:this.$nextTick((()=>this.isActive=e))}}},created(){this.expansionPanel.registerContent(this)},beforeDestroy(){this.expansionPanel.unregisterContent()},render(e){return e(O.Fx,this.showLazyContent((()=>[e("div",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:this.isActive}]}),[e("div",{class:"v-expansion-panel-content__wrap"},(0,M.z9)(this))])])))}});const Fe=(0,T.Z)(Q.Z,(0,De.f)("expansionPanel","v-expansion-panel-header","v-expansion-panel"));var Pe=Fe.extend().extend({name:"v-expansion-panel-header",directives:{ripple:S.Z},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:()=>({hasMousedown:!1}),computed:{classes(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive(){return this.expansionPanel.isActive},isDisabled(){return this.expansionPanel.isDisabled},isReadonly(){return this.expansionPanel.isReadonly}},created(){this.expansionPanel.registerHeader(this)},beforeDestroy(){this.expansionPanel.unregisterHeader()},methods:{onClick(e){this.$emit("click",e)},genIcon(){const e=(0,M.z9)(this,"actions")||[this.$createElement(U.Z,this.expandIcon)];return this.$createElement(O.Z5,[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},e)])}},render(e){return e("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.$listeners,click:this.onClick,mousedown:()=>this.hasMousedown=!0,mouseup:()=>this.hasMousedown=!1}}),[(0,M.z9)(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),Ne=i(7228),Re=Ne.y.extend({name:"v-expansion-panels",provide(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes(){return{...Ne.y.options.computed.classes.call(this),"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile}}},created(){this.$attrs.hasOwnProperty("expand")&&(0,J.fK)("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&(0,J.fK)(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem(e,t){const i=this.getValue(e,t),s=this.getValue(e,t+1);e.isActive=this.toggleMethod(i),e.nextIsActive=this.toggleMethod(s)}}}),qe=i(1373),ze=i(1486),Ge=i(6141);const We=(0,T.Z)(Ge.Z,Q.Z,V,(0,H.d)("radioGroup"),j.Z);var Ue=We.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){return D.options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return L.Z.options.computed.computedId.call(this)},hasLabel:L.Z.options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||`radio-${this.radioGroup._uid}`},rippleState(){return D.options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(e){return D.options.methods.genInput.call(this,"radio",e)},genLabel(){return this.hasLabel?this.$createElement(ze.Z,{on:{click:Z},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},(0,M.z9)(this,"label")||this.label):null},genRadio(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(U.Z,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...t}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(e){const t={staticClass:"v-radio",class:this.classes,on:(0,he.bp)({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return e("div",t,[this.genRadio(),this.genLabel()])}});const Qe=(0,T.Z)(Ne.y,L.Z);var He=Qe.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...L.Z.options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},L.Z.options.methods.genDefaultSlot.call(this))},genInputSlot(){const e=L.Z.options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel(){const e=L.Z.options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:Ne.y.options.methods.onClick},render(e){const t=L.Z.options.render.call(this,e);return this._b(t.data,"div",this.attrs$),t}}),je=i(1652),Ke=i(3845),Ye=(0,g.Z)(_e,Se,Ae,!1,null,"859b2eb2",null),Xe=Ye.exports;v()(Ye,{VBtn:f.Z,VCheckbox:Te,VCol:Ze.Z,VDivider:de.Z,VExpansionPanel:Ee,VExpansionPanelContent:Me,VExpansionPanelHeader:Pe,VExpansionPanels:Re,VIcon:x.Z,VNavigationDrawer:qe.Z,VRadio:Ue,VRadioGroup:He,VRow:I.Z,VToolbar:je.Z,VToolbarTitle:Ke.qW});var Je={name:"Categories",components:{CategoryCreator:Le,CategoryFilter:Xe},mixins:[c.Z],data:()=>({creatorDialog:!1,editing:!1,abortController:null,showSearchResults:!1,searchString:null,searchResults:null,searchError:null,filterDialog:!1,filterOptions:{sort:"name.asc",languages:[],activeState:null,enableTimer:null,enableLives:null,limitQuestions:null},currentPage:0,categoriesList:[],categoryCount:null,pageSize:null,categoryInfo:{}}),computed:{showEmptyState(){return this.categoriesList.length<=0},showSearchError(){return null!=this.searchError},showLoadMoreButton(){return this.categoryCount>this.categoriesList.length}},watch:{searchString(){null!=this.searchString&&""!==this.searchString||(this.showSearchResults=!1,this.searchError=null)}},mounted(){this.fetchCategoryList()},methods:{openCategoryCreator(e,t={}){this.categoryInfo=t,this.editing=e,this.creatorDialog=!0},openFilterPanel(){this.filterDialog=!0},iconURL(e){const t=new Date(e.modified).getTime();return`${location.origin}/resources/icons/${e.id}?${t}`},errorIndicator(e){return e.languages.length<=0||null==e.name||""===e.name||e.enableLives&&null==e.livesAmount||e.enableTimer&&null==e.timerAmount||e.limitQuestions&&null==e.questionLimit?"error":!1===e.active?"warning":"false"},fetchCategoryList(e=!1,t=!1){t&&(this.currentPage=0),this.$store.commit("updateLoaderOptions",{active:!0});const i={headers:{Authorization:`Bearer ${localStorage.getItem("actk")}`}},s=`filters=${JSON.stringify(this.filterOptions)}`;n.Z.post(`/categories/all?page=${this.currentPage}&${e?"":"lang"}`,s,i).then((t=>{this.currentPage++,this.categoryCount=t.data.total,this.pageSize=t.data.pageSize,e?this.categoriesList.push(...t.data.categories):(this.categoriesList=t.data.categories,this.$store.commit("addLanguage",t.data.languages))})).catch((e=>{this.processRequestError(e)})).finally((()=>{this.$store.commit("updateLoaderOptions",{active:!1})}))},loadMoreCategories(){this.fetchCategoryList(!0)},searchCategories(){if(null==this.searchString||""===this.searchString)return;null!=this.abortController&&(this.abortController.abort(),this.abortController=null),this.showSearchResults=!1,this.searchError=null,this.abortController=new AbortController;const e={signal:this.abortController.signal,headers:{Authorization:`Bearer ${localStorage.getItem("actk")}`,"Content-Type":"application/x-www-form-urlencoded"}},t=`term=${this.searchString}`;n.Z.post("/categories/search",t,e).then((e=>{this.searchResults=e.data,this.searchResults.length<=0?this.searchError="No matches found":this.showSearchResults=!0})).catch((e=>{this.searchError=this.processRequestError(e,!0)?.message}))},clearSearch(){this.showSearchResults=!1},categoryUrl(e){const t=e.name.replace(/[^A-Z0-9]/gi,"-").replace(/-{2,}/,"-").toLowerCase();return`/categories/${e.id}#${t}`},upsertCategory(e){const t=this.categoriesList.findIndex((t=>t.id===e.id));-1===t?(this.categoriesList.push(e),this.categoryCount++):this.categoriesList.splice(t,1,e)},deleteCategory(e){this.$swal.fire({title:`Delete ${e.name}?`,text:"This includes ALL questions in this category. You CANNOT undo this action.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",showLoaderOnConfirm:!0,allowOutsideClick:()=>!this.$swal.isLoading(),preConfirm:async()=>{const t={headers:{Authorization:`Bearer ${localStorage.getItem("actk")}`,"Content-Type":"application/x-www-form-urlencoded"}},i=`id=${e.id}`;try{await n.Z.post("/categories/delete",i,t);const s=this.categoriesList.findIndex((t=>t.id===e.id));this.categoriesList.splice(s,1),this.creatorDialog=!1,this.categoryCount--}catch(s){this.processRequestError(s)}}})}}},et=Je,tt=i(8208),it=(0,g.Z)(et,s,a,!1,null,"1b618dec",null),st=it.exports;v()(it,{VAvatar:W.Z,VBtn:f.Z,VCard:y.Z,VCardText:b.ZB,VCardTitle:b.EB,VCol:Ze.Z,VIcon:x.Z,VList:C.Z,VListItem:$.Z,VListItemAvatar:tt.Z,VListItemIcon:k.Z,VListItemTitle:w.V9,VMenu:re.Z,VRow:I.Z,VSpacer:ke.Z,VTextField:P.Z})},5596:function(e,t,i){i.d(t,{Z:function(){return a}});var s=i(2066),a=s.Z.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(e){let t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":t,...this.$attrs},on:this.$listeners})}})},9657:function(e,t,i){var s=i(1811),a=i(4552),n=i(5530),o=i(8219);t["Z"]=(0,n.Z)(s.Z,a.Z).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter(){this.runDelay("open")},onMouseLeave(){this.runDelay("close")}},render(){if(!this.$scopedSlots.default&&void 0===this.value)return(0,o.Kd)("v-hover is missing a default scopedSlot or bound value",this),null;let e;return this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):((0,o.Kd)("v-hover should only contain a single element",this),e)}})},307:function(e,t,i){i.d(t,{Wk:function(){return g}});var s=i(9524),a=i(6930),n=i(7228),o=i(9989),l=i(7293),r=i(2706),c=i(5530),h=i(8131);function u(e){const t=.501,i=Math.abs(e);return Math.sign(e)*(i/((1/t-2)*(1-i)+1))}function d(e,t,i,s){const a=e.clientWidth,n=i?t.content-e.offsetLeft-a:e.offsetLeft;i&&(s=-s);const o=t.wrapper+s,l=a+n,r=.4*a;return n<=s?s=Math.max(n-r,0):o<=l&&(s=Math.min(s-(o-l-r),t.content-t.wrapper)),i?-s:s}function p(e,t,i){const{offsetLeft:s,clientWidth:a}=e;if(i){const e=t.content-s-a/2-t.wrapper/2;return-Math.min(t.content-t.wrapper,Math.max(0,e))}{const e=s+a/2-t.wrapper/2;return Math.min(t.content-t.wrapper,Math.max(0,e))}}const g=(0,c.Z)(n.y,o.Z).extend({name:"base-slide-group",directives:{Resize:l.Z,Touch:r.Z},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["always","desktop","mobile"].includes(e)}},data:()=>({internalItemsLength:0,isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}),computed:{canTouch(){return"undefined"!==typeof window},__cachedNext(){return this.genTransition("next")},__cachedPrev(){return this.genTransition("prev")},classes(){return{...n.y.options.computed.classes.call(this),"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing}},hasAffixes(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext(){if(!this.hasAffixes)return!1;const{content:e,wrapper:t}=this.widths;return e>Math.abs(this.scrollOffset)+t},hasPrev(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset(e){this.$vuetify.rtl&&(e=-e);let t=e<=0?u(-e):e>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+u(this.widths.content-this.widths.wrapper-e):-e;this.$vuetify.rtl&&(t=-t),this.$refs.content.style.transform=`translateX(${t}px)`}},beforeUpdate(){this.internalItemsLength=(this.$children||[]).length},updated(){this.internalItemsLength!==(this.$children||[]).length&&this.setWidths()},methods:{onScroll(){this.$refs.wrapper.scrollLeft=0},onFocusin(e){if(this.isOverflowing)for(const t of(0,h.iZ)(e))for(const e of this.items)if(e.$el===t)return void(this.scrollOffset=d(e.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))},genNext(){const e=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:()=>this.onAffixClick("next")},key:"next"},[e])},genContent(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},this.$slots.default)},genData(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon(e){let t=e;this.$vuetify.rtl&&"prev"===e?t="next":this.$vuetify.rtl&&"next"===e&&(t="prev");const i=`${e[0].toUpperCase()}${e.slice(1)}`,a=this[`has${i}`];return this.showArrows||a?this.$createElement(s.Z,{props:{disabled:!a}},this[`${t}Icon`]):null},genPrev(){const e=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:()=>this.onAffixClick("prev")},key:"prev"},[e])},genTransition(e){return this.$createElement(a.Z5,[this.genIcon(e)])},genWrapper(){return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:e=>this.overflowCheck(e,this.onTouchStart),move:e=>this.overflowCheck(e,this.onTouchMove),end:e=>this.overflowCheck(e,this.onTouchEnd)}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset(e,t,i,s){const a=i?-1:1,n=a*s+("prev"===e?-1:1)*t.wrapper;return a*Math.max(Math.min(n,t.content-t.wrapper),0)},onAffixClick(e){this.$emit(`click:${e}`),this.scrollTo(e)},onResize(){this._isDestroyed||this.setWidths()},onTouchStart(e){const{content:t}=this.$refs;this.startX=this.scrollOffset+e.touchstartX,t.style.setProperty("transition","none"),t.style.setProperty("willChange","transform")},onTouchMove(e){if(this.canTouch){if(!this.isSwiping){const t=e.touchmoveX-e.touchstartX,i=e.touchmoveY-e.touchstartY;this.isSwipingHorizontal=Math.abs(t)>Math.abs(i),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-e.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd(){if(!this.canTouch)return;const{content:e,wrapper:t}=this.$refs,i=e.clientWidth-t.clientWidth;e.style.setProperty("transition",null),e.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-i&&(this.scrollOffset=-i):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=i&&(this.scrollOffset=i),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")},overflowCheck(e,t){e.stopPropagation(),this.isOverflowing&&t(e)},scrollIntoView(){if(!this.selectedItem&&this.items.length){const e=this.items[this.items.length-1].$el.getBoundingClientRect(),t=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&t.right<e.right||!this.$vuetify.rtl&&t.left>e.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=p(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=d(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo(e){this.scrollOffset=this.calculateNewOffset(e,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths(){window.requestAnimationFrame((()=>{if(this._isDestroyed)return;const{content:e,wrapper:t}=this.$refs;this.widths={content:e?e.clientWidth:0,wrapper:t?t.clientWidth:0},this.isOverflowing=this.widths.wrapper+1<this.widths.content,this.scrollIntoView()}))}},render(e){return e("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});g.extend({name:"v-slide-group",provide(){return{slideGroup:this}}})}}]);